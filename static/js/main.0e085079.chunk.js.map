{"version":3,"sources":["store/actions/types.ts","component/Graph/Graph.tsx","store/reducers/mazeReducer.ts","store/reducers/index.ts","component/Modal/modal.tsx","component/PacMan/PacMan.tsx","component/modeSelector/modeSelector.tsx","hoc/auxiliary.tsx","component/Calculator/calculator.tsx","component/Controller/controller.tsx","store/actions/index.ts","component/GameConsole/GameConsole.tsx","component/GameBoard/GameBoard.tsx","component/Footer/Footer.tsx","img/typescript.png","component/App.tsx","index.tsx"],"names":["ActionTypes","Graph","size","adjacentList","visited","answer","solutionPath","i","this","addVertex","createMaze","vertex","v1","v2","push","start","finalVertex","visitedObj","finalPath","max","Infinity","dfs","count","pth","newPath","forEach","el","end","key","path","keepgoing","currentVertex","length","includes","nextVertex","returnVertex","addEdge","arr","newDirection","findNeighbor","filter","Math","floor","random","createPath","parseInt","depthFirstRecursive","v","top","bottom","left","initialState","graph","position","pacManForward","infoIsToggle","step","showHint","mazeReducer","state","action","type","renderRunner","payload","refresh","toggle","isToggle","hint","reducers","combineReducers","maze","modal","props","className","currentPosition","onClick","restart","pacMan","style","width","height","modeSelector","clicked","mode","level","aux","children","calculator","usedStep","hintToggler","controller","clicker","direction","nextPosition","nextStep","GameConsole","infoToggler","modeClicker","initGame","React","Component","connect","GameBoard","keydownListener","e","code","renderPacAndTarget","blockLocation","renderMaze","renderWall","map","index","show","join","document","querySelector","addEventListener","prevProps","removeEventListener","directions","footer","href","src","alt","App","setMode","changedMode","setState","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.0e085079.chunk.js","sourcesContent":["import {RenderRunner,Refresh,Toggle,HintToggler} from './index';\r\n\r\nexport enum ActionTypes{\r\n    renderRunner,\r\n    refresh,\r\n    toggle,\r\n    hint\r\n}\r\n\r\n\r\nexport type Action =RenderRunner|Refresh|Toggle|HintToggler;","\r\ninterface List {\r\n  [key: number]: number[];\r\n}\r\ninterface Answer {\r\n  [key: string]: number\r\n}\r\n\r\nclass Graph {\r\n  adjacentList: List = {};\r\n  visited: number[] = [];\r\n  answer: Answer = {};\r\n  solutionPath: number[] = []\r\n\r\n  constructor(public size: number) {\r\n    for (let i = 1; i <= this.size ** 2; i++) {\r\n      this.addVertex(i);\r\n    }\r\n    this.createMaze();\r\n  }\r\n\r\n  addVertex(vertex: number): void {\r\n    if (!this.adjacentList[vertex]) {\r\n      this.adjacentList[vertex] = [];\r\n    }\r\n  }\r\n\r\n  addEdge(v1: number, v2: number): void {\r\n    if (this.adjacentList[v1] && this.adjacentList[v2]) {\r\n      this.adjacentList[v1].push(v2);\r\n      this.adjacentList[v2].push(v1);\r\n    }\r\n  }\r\n\r\n  depthFirstRecursive(start: number) {\r\n    let visitedObj: { [key: number]: boolean } = {};\r\n    let path: number[] = [];\r\n    let finalPath: number[] = [];\r\n    let max = -Infinity;\r\n    let finalVertex: number | undefined;\r\n    const dfs = (vertex: number, count: number, pth: number[]) => {\r\n      visitedObj[vertex] = true;\r\n      let newPath = [...pth, vertex];\r\n      if (count + 1 > max) {\r\n        max = count + 1;\r\n        finalVertex = vertex;\r\n        finalPath = newPath\r\n      }\r\n      this.adjacentList[vertex].forEach(el => {\r\n        if (!visitedObj[el]) return dfs(el, count + 1, newPath)\r\n      })\r\n    }\r\n    dfs(start, 0, path);\r\n\r\n    if (finalVertex) {\r\n      this.answer = { end: finalVertex, count: max - 1, }\r\n      this.solutionPath = finalPath\r\n    }\r\n\r\n\r\n  }\r\n  // depthFirstRecursive(start: number) {\r\n  //   let visitedObj: { [key: number]: boolean } = {};\r\n  //   let path: number[] = [];\r\n  //   let finalPath :number[]=[];\r\n  //   let max = -Infinity;\r\n  //   let finalVertex:number|undefined ;\r\n  //   const dfs = (vertex: number,count:number) => {\r\n  //     visitedObj[vertex] = true;\r\n\r\n  //     path.push(vertex);\r\n  //     if(count+1>max) {\r\n  //       max = count+1;\r\n  //       finalVertex = vertex;\r\n  //     }\r\n  //     this.adjacentList[vertex].forEach(el => {\r\n  //       if (!visitedObj[el]) return dfs(el,count+1)\r\n  //     })\r\n  //   }\r\n  //   dfs(start,0);\r\n\r\n  //   if(finalVertex){\r\n  //     this.answer = {start:0,end:finalVertex,count:max-1}\r\n  //   }\r\n\r\n  // }\r\n\r\n  createPath(key: number): void {\r\n    const path = [key];\r\n    let keepgoing = true;\r\n    while (keepgoing) {\r\n      let currentVertex = path[path.length - 1];\r\n      if (!this.visited.includes(currentVertex)) {\r\n        // 若最後走到的位置尚未被拜訪過\r\n        let nextVertex = this.returnVertex(currentVertex, path);\r\n        if (nextVertex !== 0) {\r\n          path.push(nextVertex);\r\n          this.addEdge(currentVertex, nextVertex);\r\n        } else {\r\n          // 若最後走到的位置是死路，則須將起始點與左側位置連接\r\n          if (path[0] % this.size !== 1) {\r\n            if (path[0] !== 1) {\r\n              this.addEdge(path[0], path[0] - 1)\r\n            }\r\n          } else {\r\n            this.addEdge(path[0], path[0] - this.size)\r\n          }\r\n          keepgoing = false;\r\n        }\r\n      } else {\r\n        // 若最後走到的位置已被拜訪過\r\n        keepgoing = false;\r\n      }\r\n    }\r\n    this.visited = [...this.visited, ...path];\r\n  }\r\n\r\n  returnVertex(vertex: number, arr: number[]): number {\r\n    const neighborArr = this.findNeighbor(vertex)\r\n    //  Define the possible direction Array\r\n    const allDirection = neighborArr.filter((el: number | null): boolean => {\r\n      return el !== 0\r\n    });\r\n    const newDirection = allDirection.filter((el) => {\r\n      return !arr.includes(el);\r\n    });\r\n    // If Dead Road => return false\r\n    if (newDirection.length === 0) return 0;\r\n    // If Live Road => return random vertex\r\n    const nextVertex = newDirection[Math.floor(Math.random() * newDirection.length)];\r\n    return nextVertex;\r\n  }\r\n\r\n  createMaze(): void {\r\n    for (let key in this.adjacentList) {\r\n      while (this.adjacentList[key].length === 0) {\r\n        this.createPath(parseInt(key));\r\n      }\r\n    }\r\n\r\n    this.depthFirstRecursive(1)\r\n  }\r\n\r\n  findNeighbor(v: number): any[] {\r\n    let top = v <= this.size ? 0 : v - this.size;\r\n    let bottom = v > this.size ** 2 - this.size ? 0 : v + this.size;\r\n    let left = v % this.size === 1 ? 0 : v - 1;\r\n    let right = v % this.size === 0 ? 0 : v + 1;\r\n    return [top, right, left, bottom]\r\n  }\r\n}\r\n\r\n\r\nexport default Graph","\r\nimport { Action, ActionTypes } from '../actions/types'\r\nimport { Maze } from '../actions/index'\r\nimport Graph from '../../component/Graph/Graph';\r\n\r\n\r\nconst initialState = {\r\n    graph: new Graph(8),\r\n    position: 1,\r\n    pacManForward: 'right',\r\n    infoIsToggle: true,\r\n    step: 0,\r\n    showHint:false,\r\n}\r\n\r\n\r\nconst mazeReducer = (state: Maze = initialState, action: Action) => {\r\n    switch (action.type) {\r\n        case (ActionTypes.renderRunner):\r\n            return { ...state, position: action.payload.position, pacManForward: action.payload.pacManForward,step:action.payload.count+1 };\r\n        case (ActionTypes.refresh):\r\n            return { ...state, graph: new Graph(action.payload.size), position: 1, pacManForward: 'right', step: 0, showHint:false };\r\n        case (ActionTypes.toggle):\r\n            return { ...state, infoIsToggle: !action.payload.isToggle };\r\n            case(ActionTypes.hint):\r\n            return {...state, showHint:!action.payload.showHint}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default mazeReducer","import {combineReducers} from 'redux';\r\nimport {Maze} from '../actions/index';\r\n\r\nimport mazeReducer from './mazeReducer';\r\n\r\n\r\nexport interface StoreState{\r\n    maze:Maze;\r\n\r\n}\r\n\r\nconst reducers = combineReducers<StoreState>({\r\n    maze:mazeReducer\r\n})\r\n\r\nexport default reducers","import './modal.scss';\r\n\r\ntype ModalProps = {\r\n    currentPosition:number;\r\n    end:number;\r\n    restart:()=>void\r\n}\r\n\r\nfunction modal(props:ModalProps):JSX.Element{\r\n    return(\r\n        <div className={`modal ${props.currentPosition===props.end?'show':null}`}>\r\n            <h2>Congratulations!</h2>\r\n            <button onClick={props.restart} className=\"modal__btn\">RESTART</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default modal","import './PacMan.scss';\r\nimport {Maze} from '../../store/actions/index'\r\ninterface PacManProps {\r\n    maze:Maze\r\n}\r\n\r\nfunction pacMan(props: PacManProps): JSX.Element {\r\n    return (\r\n        <div\r\n            className={`pacman pacman--${props.maze.pacManForward}`}\r\n            style={props.maze.position === props.maze.graph.answer.end ? { width: '100%', height: '100%' } : { }} >\r\n            <div className=\"pacman__eye\"></div>\r\n            <div className=\"pacman__mouth\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default pacMan","import React from 'react';\r\nimport './modeSelector.scss';\r\n\r\ntype SelectorProps = {\r\n    clicked: (level: string, size: number) => void;\r\n    mode:{level:string, size:number};\r\n    refresh:()=>void;\r\n}\r\n\r\nfunction modeSelector(props: SelectorProps) {\r\n    \r\n    return (\r\n        <div className=\"modeSelector__container\">\r\n            <div onClick={() => props.clicked('easy', 8)} className=\"modeSelector__btn\">\r\n                <button className={props.mode.level==='easy'?'actived':''}>Easy</button>\r\n            </div>\r\n            <div onClick={() => props.clicked('normal', 10)} className=\"modeSelector__btn \">\r\n                <button className={props.mode.level==='normal'?'actived':''}>Normal</button>\r\n            </div>\r\n            <div onClick={() => props.clicked('hard', 20)} className=\"modeSelector__btn\">\r\n                <button className={props.mode.level==='hard'?'actived':''}>Hard</button>\r\n            </div>\r\n            <div onClick={()=>props.refresh()} className=\"modeSelector__btn\">\r\n                <button className=\"refresh\"><i className=\"fas fa-redo\" ></i></button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default modeSelector","\r\nconst aux = (props:any)=>props.children\r\n\r\nexport default aux;","import Aux from '../../hoc/auxiliary';\r\n\r\ntype CalculatorProps = {\r\n    count: number;\r\n    usedStep:number;\r\n    hintToggler:()=>void;\r\n}\r\n\r\nfunction calculator(props: CalculatorProps): JSX.Element {\r\n    return (\r\n        <Aux>\r\n            <div>已使用步數:{props.usedStep}</div>\r\n            <div>最佳步數:{props.count}</div>\r\n            <button onClick={props.hintToggler}>提示</button>\r\n            \r\n        </Aux>\r\n    )\r\n}\r\n\r\nexport default calculator","import { Maze } from '../../store/actions/index';\r\nimport Aux from '../../hoc/auxiliary';\r\n\r\ntype ControllerProps = {\r\n    renderRunner: Function;\r\n    size: number;\r\n    maze: Maze;\r\n}\r\n\r\nfunction controller(props: ControllerProps): JSX.Element {\r\n    const clicker = (step: number, direction: string): void => {\r\n        let currentPosition = props.maze.position;\r\n        let nextPosition = props.maze.graph.adjacentList[currentPosition];\r\n        if (props.maze.position !== props.maze.graph.answer.end) {\r\n            props.renderRunner(step, direction, currentPosition, nextPosition,props.maze.step);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Aux>\r\n            <div onClick={() => clicker(-props.size, 'up')}>&uarr;</div>\r\n            <div onClick={() => clicker(-1, 'left')}>&larr;</div>\r\n            <div onClick={() => clicker(props.size, 'down')} >&darr;</div>\r\n            <div onClick={() => clicker(1, 'right')}>&rarr;</div>\r\n        </Aux>\r\n    )\r\n}\r\n\r\nexport default controller","import { ActionTypes } from './types';\r\nimport Graph from '../../component/Graph/Graph';\r\n\r\nexport interface Maze {\r\n    graph: Graph;\r\n    position: number;\r\n    pacManForward: string;\r\n    infoIsToggle: boolean;\r\n    step: number;\r\n    showHint:boolean\r\n}\r\n\r\nexport interface Refresh {\r\n    type: ActionTypes.refresh;\r\n    payload: {\r\n        size: number\r\n    }\r\n}\r\n\r\nexport interface RenderRunner {\r\n    type: ActionTypes.renderRunner;\r\n    payload: {\r\n        position: number;\r\n        pacManForward: string;\r\n        count: number;\r\n\r\n    }\r\n}\r\n\r\nexport interface Toggle {\r\n    type: ActionTypes.toggle,\r\n    payload: {\r\n        isToggle: boolean\r\n    }\r\n}\r\n\r\nexport interface HintToggler{\r\n    type:ActionTypes.hint,\r\n    payload:{\r\n        showHint:boolean\r\n    }\r\n}\r\n\r\n\r\nexport const renderRunner = (nextStep: number, direction: string, currentPosition: number, nextPosition: number[], count: number) => {\r\n    if (!nextPosition.includes(currentPosition + nextStep)) {\r\n        return {\r\n            type: 'HIT_DEAD_END'\r\n        }\r\n    }\r\n    return {\r\n        type: ActionTypes.renderRunner,\r\n        payload: {\r\n            position: currentPosition + nextStep,\r\n            pacManForward: direction,\r\n            count\r\n        }\r\n    }\r\n}\r\n\r\nexport const refresh = (size: number) => {\r\n    return {\r\n        type: ActionTypes.refresh,\r\n        payload: {\r\n            size\r\n        }\r\n    }\r\n}\r\n\r\nexport const infoToggler = (isToggle: boolean) => {\r\n    return {\r\n        type: ActionTypes.toggle,\r\n        payload: {\r\n            isToggle\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const hintToggler = (showHint:boolean)=>{\r\n    return{\r\n        type:ActionTypes.hint,\r\n        payload:{\r\n            showHint\r\n        }\r\n    }\r\n}\r\n","import './GameConsole.scss';\r\n\r\nimport React from 'react';\r\nimport ModeSelector from '../modeSelector/modeSelector';\r\nimport Calculator from '../Calculator/calculator';\r\nimport Controller from '../Controller/controller';\r\n\r\nimport { Maze } from '../../store/actions/index';\r\nimport { StoreState } from '../../store/reducers/index'\r\n\r\nimport { connect } from 'react-redux';\r\nimport { infoToggler, renderRunner, hintToggler } from '../../store/actions/index';\r\n\r\ninterface GameConsoleProps {\r\n    mode: { level: string, size: number };\r\n    modeClicker: (level: string, size: number) => void;\r\n    initGame: () => void;\r\n    // ========Redux========\r\n    renderRunner: Function;\r\n    infoToggler: Function;\r\n    hintToggler: Function;\r\n    maze: Maze\r\n}\r\n\r\nclass GameConsole extends React.Component<GameConsoleProps, {}> {\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"gameboard__console\">\r\n                <div onClick={() => this.props.infoToggler(this.props.maze.infoIsToggle)} className=\"toggler\">\r\n                    {this.props.maze.infoIsToggle ? <i className=\"fas fa-sort-up\"></i> : <i className=\"fas fa-sort-down\"></i>}\r\n                </div>\r\n                <div className={`gameboard__console__info ${this.props.maze.infoIsToggle ? '' : 'hide'}`}>\r\n                    <div className=\"modeselector\">\r\n                        <ModeSelector\r\n                            clicked={this.props.modeClicker}\r\n                            refresh={this.props.initGame}\r\n                            mode={this.props.mode}\r\n                        />\r\n                    </div>\r\n                    <div className=\"calculator\">\r\n                        <Calculator\r\n                            count={this.props.maze.graph.answer.count}\r\n                            usedStep={this.props.maze.step}\r\n                            hintToggler={()=>this.props.hintToggler(this.props.maze.showHint)}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className=\"gameboard__console__controller\">\r\n                    <Controller\r\n                        renderRunner={this.props.renderRunner}\r\n                        size={this.props.mode.size}\r\n                        maze={this.props.maze}\r\n                    />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: StoreState): { maze: Maze } => {\r\n    return {\r\n        maze: state.maze\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { infoToggler, renderRunner, hintToggler })(GameConsole)","import React from 'react';\r\nimport './GameBoard.scss';\r\n\r\nimport Modal from '../Modal/modal';\r\nimport PacMan from '../PacMan/PacMan';\r\nimport GameConsole from '../GameConsole/GameConsole';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { StoreState } from '../../store/reducers/index';\r\nimport { Maze, renderRunner, refresh } from '../../store/actions/index';\r\n\r\ninterface GameBoardProps {\r\n    mode: { level: string, size: number };\r\n    modeClicker: (level: string, size: number) => void;\r\n    // ========Redux========\r\n    renderRunner: Function;\r\n    refresh: Function;\r\n    maze: Maze\r\n}\r\n\r\nclass GameBoard extends React.Component<GameBoardProps, {}>{\r\n\r\n    componentDidMount() {\r\n        document.querySelector('body')?.addEventListener('keydown', this.keydownListener);\r\n    }\r\n\r\n    componentDidUpdate(prevProps: GameBoardProps) {\r\n        if (prevProps.mode.level !== this.props.mode.level) this.initGame();\r\n        if (this.props.maze.position === this.props.maze.graph.answer.end) {\r\n            document.querySelector('body')?.removeEventListener('keydown', this.keydownListener)\r\n        }\r\n    }\r\n\r\n    keydownListener = (e: KeyboardEvent): void => {\r\n        let currentPosition = this.props.maze.position;\r\n        let nextPosition = this.props.maze.graph.adjacentList[currentPosition];\r\n        switch (e.code) {\r\n            case ('ArrowLeft'):\r\n                this.props.renderRunner(-1, 'left', currentPosition, nextPosition,this.props.maze.step);\r\n                break\r\n            case ('ArrowRight'):\r\n                this.props.renderRunner(1, 'right', currentPosition, nextPosition,this.props.maze.step);\r\n                break\r\n            case ('ArrowDown'):\r\n                this.props.renderRunner(this.props.mode.size, 'down', currentPosition, nextPosition,this.props.maze.step);\r\n                break\r\n            case ('ArrowUp'):\r\n                this.props.renderRunner(-this.props.mode.size, 'up', currentPosition, nextPosition,this.props.maze.step);\r\n                break\r\n        }\r\n    }\r\n    renderPacAndTarget = (blockLocation: number): JSX.Element | null => {\r\n        if (blockLocation === this.props.maze.position) {\r\n            return <PacMan maze={this.props.maze} />\r\n        } else if (blockLocation === this.props.maze.graph.answer.end && (this.props.maze.graph.answer.end !== this.props.maze.position)) {\r\n            return <div className=\"target\"></div>\r\n        }\r\n        return null\r\n    }\r\n\r\n    renderMaze = (): JSX.Element[] => {\r\n        let arr = [];\r\n        for (let key in this.props.maze.graph.adjacentList) {\r\n            arr.push(this.renderWall(key, this.props.maze.graph.adjacentList[key]))\r\n        }\r\n        return arr.map((el, index) => {\r\n            let show =null;\r\n            if(this.props.maze.showHint){\r\n                show = this.props.maze.graph.solutionPath.includes(index+1)?true:false\r\n            }\r\n            return (\r\n                <div \r\n                key={index + 1}  \r\n                className={`${this.props.mode.level} ${show?'hint':''} vertex ${el.join(' ')}`}\r\n                >\r\n                    {this.renderPacAndTarget(index + 1)}\r\n                </div>\r\n            )\r\n        })\r\n    }\r\n\r\n    renderWall(key: string, arr: number[]): string[] {\r\n        const directions: string[] = [];\r\n        arr.forEach(el => {\r\n            if (el === parseInt(key) + 1) directions.push('right');\r\n            if (el === parseInt(key) - 1) directions.push('left');\r\n            if (el === parseInt(key) + this.props.mode.size) directions.push('bottom');\r\n            if (el === parseInt(key) - this.props.mode.size) directions.push('top');\r\n        })\r\n        return directions\r\n    }\r\n\r\n    initGame = (): void => {\r\n        this.props.refresh(this.props.mode.size);\r\n        document.querySelector('body')?.addEventListener('keydown', this.keydownListener);\r\n    }\r\n\r\n    render() {\r\n        // console.log(this.props.maze.showHint)\r\n        return (\r\n            <div className='gameboard'>\r\n                <div className=\"gameboard__playground\">\r\n                    <Modal\r\n                        currentPosition={this.props.maze.position}\r\n                        end={this.props.maze.graph.answer.end}\r\n                        restart={this.initGame}\r\n                    />\r\n                    <div className='gameboard__playground__maze'>\r\n                        {this.renderMaze()}\r\n                    </div>\r\n                </div>\r\n                <GameConsole\r\n                    mode={this.props.mode}\r\n                    modeClicker={this.props.modeClicker}\r\n                    initGame={this.initGame}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: StoreState): { maze: Maze } => {\r\n    return {\r\n        maze: state.maze\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { renderRunner, refresh })(GameBoard)","import './Footer.scss';\r\nimport typescriptLogo from '../../img/typescript.png';\r\n\r\nfunction footer():JSX.Element {\r\n    return (\r\n        <div className=\"footer\">\r\n            <h2 className=\"footer__title\">&copy; Designed by <i className=\"fab fa-github\"></i>\r\n                <a href=\"https://github.com/ChiuWeiChung\"> Rick Chiu</a>\r\n            </h2>\r\n            <div className=\"footer__utilities\">\r\n                <p><i className=\"fab fa-react\"></i> React with Redux</p>\r\n                <p><img src={typescriptLogo} alt=\"\" style={{width:'20%'}} /> TypeScript </p>\r\n                <p><i className=\"fab fa-font-awesome-flag\"></i> FontAwesome </p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default footer","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAdtJREFUWEftlj1IHFEQx3+z+NGJnRgsLFIEbCR3a5EgfpSpLoVFOiORswmkU+8KFbynRLEJBLwUsbOS2Cik0kAwhRu0CoIEbFIFwd5wE9w1e7snK7vGRYt93fuYNz/+M/PeCCVHucMhGUCmQKZApkCmQKbA/VZA2U30UQqDofNB+8a9y4PX/4YmL7EBpp0d6k7eY7HCfP6nb192RlB9B9IRvDMFANnD5J5GgodBuR6gMQSqcyzaXlguLmocFwqo1cPC4x/uVml/FpUBRL9g7FlK+2Mgq0DTP9NkDUlNh3yAqE5Kmrqo9P7yAALdlrKO8OIqc5KWLBYA/VTyXy9VKmAxj9ITFZLbVwCtYuyi73DmoJ3zP2/AGgd9kL4CrgcpYnLVkLOS0wlaBJmJXwWNuHFCULe5WopeXnwAXqWXhGHo36gus2C/9ZenvnVjtRyBtrpaJXqKkykQRDkBmcDkPnvV8f0j6GhKADrn1bxzDDysU9ReYvrW3HnZqaKMpwGwick/d524UjdPojxCdBtjL/kwZWcL5VkaAGfUdJhF+yCq7pl2Cgif0kzCU0SLVOyNEMTr7VbaOgooK8H3IFkSxvheA07PUA79ufAEaPm/hyhS15tvJFPg5n4iLf8COnQH0CgXaW8AAAAASUVORK5CYII=\"","import React from 'react'\r\nimport GameBoard from './GameBoard/GameBoard';\r\n// import GameConsole from './GameConsole/GameConsole';\r\nimport './App.scss';\r\nimport Footer from './Footer/Footer';\r\n\r\n\r\ninterface AppProps {\r\n}\r\n\r\ninterface AppState {\r\n    mode: { level: string, size: number };\r\n}\r\n\r\nclass App extends React.Component<AppProps, AppState> {\r\n\r\n    state = {\r\n        mode: { level: 'easy', size: 8 }\r\n    }\r\n\r\n    setMode = (level: string, size: number): void => {\r\n        let changedMode = { ...this.state.mode };\r\n        changedMode.level = level;\r\n        changedMode.size = size;\r\n        this.setState({ mode: changedMode });\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"Container\">\r\n                    <h1 className=\"title\">Maze Runner</h1>\r\n                    <GameBoard mode={this.state.mode} modeClicker={this.setMode} />\r\n                    <Footer />\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// const mapStateToProps = (state:StoreState):{something:Something} => {\r\n//     return {\r\n//       something: state.something,\r\n//     };\r\n//   };\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { createStore, compose } from 'redux';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport reducers from './store/reducers';\r\nimport App from './component/App';\r\n\r\nconst composeEnhancers = (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(reducers,composeEnhancers());\r\n\r\nReactDOM.render(\r\n\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>\r\n    , document.getElementById('root')\r\n)"],"sourceRoot":""}